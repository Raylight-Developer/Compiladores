<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Custom Syntax Highlighter</title>
		<style>
			* {
				vertical-align: top;
				background-color: rgb(30, 30, 30);
				color: rgb(250, 250, 250);
			}
			.builtinFunctions { color: rgb(225, 225, 120); }
			.builtinClasses { color: rgb(78, 201, 176); }
			.control { color: rgb(216, 160, 223); }
			.user_keywords { color: rgb(86, 156, 214); }
			.operation { color: rgb(100, 255, 120); }
			.label { color: rgb(255, 120, 100); }
			.temporal { color: rgb(120, 130, 140); }
			.brackets { color: rgb(255, 215, 0); }
			.integers { color: rgb(181, 206, 168); }
			.floats { color: rgb(185, 225, 172); }
			.strings { color: rgb(214, 157, 133); }
			.comments { color: rgb(85, 140, 70); }
		</style>
	</head>
	<body>
		<table border="1">
			<tr>
				<th>Codigo</th>
				<th>CI</th>
			</tr>
			<tr>
				<td><pre id="Code">
var peko;
peko = 10;

fun saludar(val) {
	print "Hola, mi nombre es " + val;
}
saludar("Alejandro");

var nombre = "Alejandro_var";
saludar(nombre);

fun estudiar() {
	print " esta estudiando en grado.";
}
estudiar();

for (var i = 1; i <= 5; i = i + 1) {
	if (i % 2 == 0) {
		print i + " es par";
	} else {
		print i + " es impar";
	}
}

var testa = 3;
var testb = "3";
var menor = 3 < 5; // true
var mayorIgual = 10 >= 10; // true
var igual = 1 == 1; // true
var diferente = "a" != "b" ; // true
var y = true and false ; // false
var o = true or false or true or false; // true
var no = ! true ; // false
var min = 0;
var max = 10;
var promedio = ( min + max ) / 2;
var string = "Hola Mundo";

var i = 0;
while (i < 10) {
	print "Loop";
	i = i +1;
}

class Persona {
	init(nombre, edad) {
		this.nombre = nombre;
		this.edad = edad;
		this.color = "rojo";
	}

	saludar() {
		print "Hola, mi nombre es " + this.color;
	}
}

var persona = new Persona("Alejandro", 10);
persona.saludar();

class Estudiante extends Persona {
	init(nombre, edad, grado) {
		//super.init(nombre, edad);
		this.grado = grado;
		this.edad = 10;
	}

	estudiar() {
		print this.nombre + " esta estudiando en " + this.grado + " grado.";
	}
}

var juan = new Estudiante(nombre, 20, 3);
juan.saludar();    // Salida: Hola, mi nombre es Alejandro
juan.estudiar();   // Salida: Juan esta estudiando en 3 grado
		</pre></td>
		<td><pre id="CI">
// Declare Empty Var: peko
T_0: 10 // peko = 10
// FUNCTION START {
L_0: // saludar
	// Fun: saludar Has Param: T_1
	// PRINT START {
	SYSCALL
		ADD T_2: "Hola, mi nombre es ", T_1 // "Hola, mi nombre es " + T_1
	SYSPRINT T_2
	SYSCALL
	//} PRINT END
RETURN
//} FUNCTION END
T_1: "Alejandro"
CALL L_0 // Calling function with params
T_3: "Alejandro_var" // nombre = "Alejandro_var"
T_1: T_3
CALL L_0 // Calling function with params
// FUNCTION START {
L_1: // estudiar
	// PRINT START {
	SYSCALL
	SYSPRINT " esta estudiando en grado."
	SYSCALL
	//} PRINT END
RETURN
//} FUNCTION END
CALL L_1 // Calling function with NO params
T_4: 1 // i = 1
// FOR LOOP START {
L_2:
	// COMPARE
	LEQ T_5: T_4, 5 // T_4 <= 5
	IF T_5 GO_TO L_3
	// INCREMENT
	ADD T_6: T_4, 1 // T_4 + 1
	T_4: T_6 // i = T_6
	T_4 = T_6
	// FOR LOOP BODY START {
		// IF START {
		// COMPARE
		MOD T_7: T_4, 2 // T_4 % 2
		EQ T_8: T_7, 0 // T_7 == 0
		IF T_8 GO_TO L_4
		// FALSE
			// PRINT START {
			SYSCALL
				ADD T_9: T_4, " es impar" // T_4 + " es impar"
			SYSPRINT T_9
			SYSCALL
			//} PRINT END
			GO_TO L_5
		// TRUE
		L_4:
			// PRINT START {
			SYSCALL
				ADD T_10: T_4, " es par" // T_4 + " es par"
			SYSPRINT T_10
			SYSCALL
			//} PRINT END
			GO_TO L_5
		L_5:
		//} IF END
	//} FOR LOOP BODY END
	GO_TO L_2
L_3:
//} FOR LOOP END
T_11: 3 // testa = 3
T_12: "3" // testb = "3"
LT T_14: 3, 5 // 3 < 5
T_13: T_14 // menor = T_14
GEQ T_16: 10, 10 // 10 >= 10
T_15: T_16 // mayorIgual = T_16
EQ T_18: 1, 1 // 1 == 1
T_17: T_18 // igual = T_18
NEQ T_20: "a", "b" // "a" != "b"
T_19: T_20 // diferente = T_20
AND T_22: true, false // true && false
T_21: T_22 // y = T_22
OR T_24: true, false // true || false
OR T_25: T_24, true // T_24 || true
OR T_26: T_25, false // T_25 || false
T_23: T_26 // o = T_26
NOT T_28: true // ! true
T_27: T_28 // no = T_28
T_29: 0 // min = 0
T_30: 10 // max = 10
ADD T_32: T_29, T_30 // T_29 + T_30
DIV T_33: T_32, 2 // T_32 / 2
T_31: T_33 // promedio = T_33
T_34: "Hola Mundo" // string = "Hola Mundo"
T_35: 0 // i = 0
// WHILE LOOP START {
L_6:
	// COMPARE
	LT T_36: T_35, 10 // T_35 < 10
	IF T_36 GO_TO L_7
	// WHILE LOOP BODY START {
		// PRINT START {
		SYSCALL
		SYSPRINT "Loop"
		SYSCALL
		//} PRINT END
		ADD T_37: T_35, 1 // T_35 + 1
		T_35: T_37 // i = T_37
	//} WHILE LOOP BODY END
	GO_TO L_6
L_7:
//} WHILE LOOP END
// INSTANTIATE CLASS Persona {
	// FUNCTION START {
	L_8: // init
		// Fun: init Has Param: T_39
		// Fun: init Has Param: T_40
		T_41: T_39 // nombre = T_39
		T_42: T_40 // edad = T_40
		T_43: "rojo" // color = "rojo"
	RETURN
	//} FUNCTION END
	// FUNCTION START {
	L_9: // saludar
		// PRINT START {
		SYSCALL
			ADD T_44: "Hola, mi nombre es ", T_43 // "Hola, mi nombre es " + T_43
		SYSPRINT T_44
		SYSCALL
		//} PRINT END
	RETURN
	//} FUNCTION END
//} INSTANTIATE CLASS
// INIT CLASS {
	T_39: "Alejandro"
	T_40: 10
	CALL L_8
//} INIT CLASS
CALL L_9 // Calling function with NO params
// FUNCTION START {
L_10: // init
	// Fun: init Has Param: T_45
	// Fun: init Has Param: T_46
	T_47: T_45 // nombre = T_45
	T_48: T_46 // edad = T_46
	T_49: "rojo" // color = "rojo"
RETURN
//} FUNCTION END
// FUNCTION START {
L_11: // saludar
	// PRINT START {
	SYSCALL
		ADD T_50: "Hola, mi nombre es ", T_49 // "Hola, mi nombre es " + T_49
	SYSPRINT T_50
	SYSCALL
	//} PRINT END
RETURN
//} FUNCTION END
// INSTANTIATE CLASS Estudiante {
	// FUNCTION START {
	L_12: // init
		// Fun: init Has Param: T_52
		// Fun: init Has Param: T_53
		// Fun: init Has Param: T_54
		T_55: T_54 // grado = T_54
		T_56: 10 // edad = 10
	RETURN
	//} FUNCTION END
	// FUNCTION START {
	L_13: // estudiar
		// PRINT START {
		SYSCALL
			ADD T_57: T_47, " esta estudiando en " // T_47 + " esta estudiando en "
			ADD T_58: T_57, T_55 // T_57 + T_55
			ADD T_59: T_58, " grado." // T_58 + " grado."
		SYSPRINT T_59
		SYSCALL
		//} PRINT END
	RETURN
	//} FUNCTION END
//} INSTANTIATE CLASS
// INIT CLASS {
	T_52: T_47
	T_53: 20
	T_54: 3
	CALL L_12
//} INIT CLASS
CALL L_11 // Calling function with NO params
CALL L_13 // Calling function with NO params
				</pre></td>
			</tr>
		</table>
		<script>

			const a_highlightingRules = [
				{ pattern: /\b(IF|GO_TO|LINK_BACK|IF_NOT|SYSCALL|SYSPRINT|RETURN|CALL)\b/g, cssClass: 'control' },
				{ pattern: /\b(true|false|nil|this)\b/g, cssClass: 'user_keywords' },
				{ pattern: /\b(ADD|SUB|MUL|DIV|MOD|AND|OR|NOT|EQ|NEQ|LEQ|GEQ|LT|GT)\b/g, cssClass: 'operation' },
				{ pattern: /\bL_[0-9]*\b/g, cssClass: 'label' },
				{ pattern: /\bT_[0-9]*\b/g, cssClass: 'temporal' },
				{ pattern: /[\(\)\[\]\{\}]/g, cssClass: 'brackets' },
				{ pattern: /\b[-+]?[0-9]+[uU]?\b/g, cssClass: 'integers' },
				{ pattern: /\b[-+]?([0-9]*\.[0-9]+|[0-9]+\.)([eE][-+]?[0-9]+)?[fF]?\b/g, cssClass: 'floats' },
				{ pattern: /"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/g, cssClass: 'strings' },
				{ pattern: /(\/\/[^\n]*|\/\*.*?\*\/)/g, cssClass: 'comments' }
			];
			const b_highlightingRules = [
				{ pattern: /\b(float|int|uint|bool|class|struct|const|true|false)\b/g, cssClass: 'user_keywords' },
				{ pattern: /\b(if|else|else if|while|for|return|switch|case|break|continue)\b/g, cssClass: 'control' },
				{ pattern: /\b(fun|print|init|var)\b/g, cssClass: 'builtinFunctions' },
				{ pattern: /\bsuper\b/g, cssClass: 'builtinClasses' },
				{ pattern: /[\(\)\[\]\{\}]/g, cssClass: 'brackets' },
				{ pattern: /\b[-+]?[0-9]+[uU]?\b/g, cssClass: 'integers' },
				{ pattern: /\b[-+]?([0-9]*\.[0-9]+|[0-9]+\.)([eE][-+]?[0-9]+)?[fF]?\b/g, cssClass: 'floats' },
				{ pattern: /"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/g, cssClass: 'strings' },
				{ pattern: /(\/\/[^\n]*|\/\*.*?\*\/)/g, cssClass: 'comments' }
			]

			window.onload = function() {
				highlightCode();
			}
			function highlightCode() {
				{
					const codeElement = document.getElementById('CI');
					let codeText = codeElement.textContent;

					// Apply each highlighting rule
					a_highlightingRules.forEach(rule => {
						codeText = codeText.replace(rule.pattern, match => `<span class=${rule.cssClass}>${match}</span>`);
					});

					codeElement.innerHTML = codeText; // Update HTML with the highlighted code
				}
				{
					const codeElement = document.getElementById('Code');
					let codeText = codeElement.textContent;

					// Apply each highlighting rule
					b_highlightingRules.forEach(rule => {
						codeText = codeText.replace(rule.pattern, match => `<span class=${rule.cssClass}>${match}</span>`);
					});

					codeElement.innerHTML = codeText; // Update HTML with the highlighted code
				}
			}
		</script>
	</body>
</html>